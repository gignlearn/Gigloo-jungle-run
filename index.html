<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Adorable Tiger Cub Runner</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background-color: #228B22; /* jungle green */
            overflow: hidden;
            touch-action: none;
        }
        canvas {
            display: block;
            background: linear-gradient(to bottom, #87CEEB, #90EE90); /* sky to grass feel */
        }
        #scoreInfo {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            text-shadow: 2px 2px 4px black;
            pointer-events: none;
            z-index: 10;
        }
    </style>
</head>
<body>

<div id="scoreInfo">Score: 0 | High: 0</div>

<canvas id="gameCanvas"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const scoreDisplay = document.getElementById('scoreInfo');

// Responsive resize
function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight * 0.9; // leave space for score
}
window.addEventListener('resize', resizeCanvas);
resizeCanvas();

let isGameOver = false;
let score = 0;
let highScore = localStorage.getItem('tigerHigh') || 0;
scoreDisplay.textContent = `Score: ${Math.floor(score)} | High: ${highScore}`;

const gravity = 0.7;
const jumpPower = -15;
const groundY = canvas.height - 100;

const player = {
    x: 100,
    y: groundY - 80,
    width: 80,
    height: 80,
    vy: 0,
    isJumping: false
};

let obstacles = [];
let coins = [];
let speed = 6;
let frame = 0;

// Load images
const tigerImg = new Image();
tigerImg.src = 'https://thumbs.dreamstime.com/b/playful-tiger-cub-running-jungle-cute-animated-wearing-orange-shirt-brown-shorts-captured-mid-run-lush-setting-425694863.jpg'; // cute running tiger cub

const cactusImg = new Image();
cactusImg.src = 'https://www.shutterstock.com/image-vector/cartoon-game-objects-2d-art-260nw-653469973.jpg'; // simple cactus style obstacle (adjust if needed)

function updateScore() {
    scoreDisplay.textContent = `Score: ${Math.floor(score)} | High: ${highScore}`;
}

// Draw background (simple jungle feel)
function drawBackground() {
    // Ground
    ctx.fillStyle = '#556B2F';
    ctx.fillRect(0, groundY, canvas.width, canvas.height - groundY);
    
    // Simple trees (parallax)
    ctx.fillStyle = '#006400';
    for (let i = 0; i < 5; i++) {
        let tx = (frame * 1.5 + i * 200) % (canvas.width + 200) - 100;
        ctx.fillRect(tx, groundY - 120, 30, 120);
        ctx.fillStyle = '#228B22';
        ctx.beginPath();
        ctx.arc(tx + 15, groundY - 140, 50, 0, Math.PI * 2);
        ctx.fill();
    }
}

// Draw player with image
function drawPlayer() {
    if (tigerImg.complete) {
        ctx.drawImage(tigerImg, player.x, player.y, player.width, player.height);
    } else {
        // Fallback simple tiger
        ctx.fillStyle = '#FFA500';
        ctx.fillRect(player.x, player.y, player.width, player.height);
    }
}

// Draw cactus obstacle
function drawObstacle(obs) {
    if (cactusImg.complete) {
        ctx.drawImage(cactusImg, obs.x, obs.y, obs.width, obs.height);
    } else {
        // Fallback brown rect
        ctx.fillStyle = '#8B4513';
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
    }
}

// Draw coin
function drawCoin(coin) {
    ctx.fillStyle = '#FFD700';
    ctx.beginPath();
    ctx.arc(coin.x + 15, coin.y + 15, 15, 0, Math.PI * 2);
    ctx.fill();
}

// Generate obstacles & coins
function generateStuff() {
    if (frame % 90 === 0) {
        obstacles.push({
            x: canvas.width,
            y: groundY - 60,
            width: 60,
            height: 80
        });
    }
    if (frame % 120 === 0) {
        coins.push({
            x: canvas.width,
            y: Math.random() * (groundY - 200) + 50,
            radius: 15
        });
    }
}

function update() {
    if (isGameOver) return;

    ctx.clearRect(0, 0, canvas.width, canvas.height);
    drawBackground();

    // Player physics
    player.vy += gravity;
    player.y += player.vy;
    if (player.y >= groundY - player.height) {
        player.y = groundY - player.height;
        player.vy = 0;
        player.isJumping = false;
    }
    drawPlayer();

    generateStuff();

    // Move & draw obstacles
    obstacles.forEach((obs, i) => {
        obs.x -= speed;
        drawObstacle(obs);
        if (obs.x + obs.width < 0) obstacles.splice(i, 1);

        // Collision
        if (player.x + player.width > obs.x &&
            player.x < obs.x + obs.width &&
            player.y + player.height > obs.y &&
            player.y < obs.y + obs.height) {
            isGameOver = true;
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('tigerHigh', highScore);
            }
            updateScore();
        }
    });

    // Move & draw coins
    coins.forEach((coin, i) => {
        coin.x -= speed;
        drawCoin(coin);
        if (coin.x + coin.radius * 2 < 0) coins.splice(i, 1);

        // Collect
        if (player.x + player.width > coin.x &&
            player.x < coin.x + coin.radius * 2 &&
            player.y + player.height > coin.y &&
            player.y < coin.y + coin.radius * 2) {
            score += 10;
            coins.splice(i, 1);
            updateScore();
        }
    });

    score += 0.1;
    updateScore();

    if (isGameOver) {
        ctx.fillStyle = 'rgba(0,0,0,0.5)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#FF4444';
        ctx.font = 'bold 60px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('Game Over!', canvas.width/2, canvas.height/2 - 40);
        ctx.font = '30px Arial';
        ctx.fillText('Tap screen or press R to Restart', canvas.width/2, canvas.height/2 + 20);
    }

    frame++;
    requestAnimationFrame(update);
}

// Keyboard controls
document.addEventListener('keydown', e => {
    if (e.key === ' ' || e.key === 'ArrowUp') {
        if (!player.isJumping && !isGameOver) {
            player.vy = jumpPower;
            player.isJumping = true;
        }
    }
    if ((e.key === 'r' || e.key === 'R') && isGameOver) {
        resetGame();
    }
});

// Touch controls (mobile)
canvas.addEventListener('touchstart', e => {
    e.preventDefault();
    if (isGameOver) {
        resetGame();
    } else if (!player.isJumping) {
        player.vy = jumpPower;
        player.isJumping = true;
    }
});

function resetGame() {
    isGameOver = false;
    score = 0;
    obstacles = [];
    coins = [];
    player.y = groundY - player.height;
    player.vy = 0;
    frame = 0;
    updateScore();
    update();
}

update(); // Start game
</script>
</body>
</html>
