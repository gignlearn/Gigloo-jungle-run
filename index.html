<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Ball Coin Collector</title>

<style>
* { margin:0; padding:0; box-sizing:border-box; }
body {
    overflow:hidden;
    background:linear-gradient(180deg,#87CEEB,#E0F6FF);
    font-family:Arial Black, Arial, sans-serif;
}
canvas {
    display:block;
    width:100vw;
    height:100vh;
}
#ui {
    position:absolute;
    top:20px;
    left:20px;
    color:#fff;
    font-size:clamp(24px,6vw,40px);
    text-shadow:2px 2px 4px rgba(0,0,0,0.8);
}
#startOverlay {
    position:absolute;
    inset:0;
    background:rgba(0,150,255,0.85);
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    z-index:10;
}
#startBtn {
    padding:30px 70px;
    font-size:40px;
    background:linear-gradient(45deg,#FFD700,#FFA500);
    border:none;
    border-radius:30px;
    font-weight:bold;
}
</style>
</head>

<body>
<canvas id="gameCanvas"></canvas>

<div id="ui">
    <div id="scoreText">Score: 0</div>
    <div id="levelText">Level: 1</div>
</div>

<div id="startOverlay">
    <div id="startBtn">START GAME</div>
</div>

<script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let W = 800, H = 600;
canvas.width = W;
canvas.height = H;

const groundY = 520;
const playerGroundY = groundY - 70;

let gameRunning = false;
let score = 0;
let level = 1;
let speed = 1.2;

const player = {
    x:140, y:playerGroundY,
    w:60, h:60,
    vy:0,
    gravity:0.5,
    jump:-22,
    grounded:true
};

let coins = [];

const ballImg = new Image();
ballImg.src = "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgIAAapb_22j2KMQk-0k46WezOcR5RCgv2b6C2q4yEgCi-XYXs2Zrx4LjhBo9ci9g2NbVxNWFZRehIA8kBxyRuD7wA6GBui8U_w5MomtEzL6b2K4o9mmNt7tXie1qn5r4eSFlDYxREEGw3Z2pNqgCm_FHErOFAAQAZ-yCaATAb4nt517Or6lvvINQ-mSCtd/s1920/1000377997.png";

const coinImg = new Image();
coinImg.src = "https://e7.pngegg.com/pngimages/1012/478/png-clipart-pixel-art-drawing-graphics-2d-coin-sprite-text-photography.png";

function jump() {
    if (!gameRunning) startGame();
    else if (player.grounded) {
        player.vy = player.jump;
        player.grounded = false;
    }
}

canvas.addEventListener("click", jump);
document.addEventListener("keydown", e => {
    if (e.code === "Space") jump();
});

document.getElementById("startBtn").onclick = startGame;

function startGame() {
    gameRunning = true;
    score = 0;
    level = 1;
    speed = 1.2;
    coins = [];
    player.y = playerGroundY;
    player.vy = 0;
    player.grounded = true;
    document.getElementById("startOverlay").style.display = "none";
    loop();
}

function updatePlayer() {
    player.vy += player.gravity;
    player.y += player.vy;
    if (player.y >= playerGroundY) {
        player.y = playerGroundY;
        player.vy = 0;
        player.grounded = true;
    }
}

function updateCoins() {
    if (Math.random() < 0.03) {
        coins.push({
            x:W + 40,
            y:180 + Math.random()*220,
            s:40,
            r:0
        });
    }

    for (let i = coins.length - 1; i >= 0; i--) {
        let c = coins[i];
        c.x -= speed;
        c.r += 0.2;

        if (c.x + c.s < 0) coins.splice(i,1);

        if (
            player.x < c.x + c.s &&
            player.x + player.w > c.x &&
            player.y < c.y + c.s &&
            player.y + player.h > c.y
        ) {
            score += 10;
            coins.splice(i,1);
        }
    }
}

function updateLevel() {
    level = Math.floor(score / 40) + 1;
    speed = 1.2 + level * 0.25;
}

function draw() {
    ctx.clearRect(0,0,W,H);

    // Sky
    ctx.fillStyle="#87CEEB";
    ctx.fillRect(0,0,W,groundY);

    // Ground
    ctx.fillStyle="#2E8B57";
    ctx.fillRect(0,groundY,W,H-groundY);

    // Player
    ctx.drawImage(ballImg, player.x, player.y, player.w, player.h);

    // Coins
    for (let c of coins) {
        ctx.save();
        ctx.translate(c.x + c.s/2, c.y + c.s/2);
        ctx.rotate(c.r);
        ctx.drawImage(coinImg, -c.s/2, -c.s/2, c.s, c.s);
        ctx.restore();
    }

    document.getElementById("scoreText").textContent = "Score: " + score;
    document.getElementById("levelText").textContent = "Level: " + level;
}

function loop() {
    if (!gameRunning) return;
    updatePlayer();
    updateCoins();
    updateLevel();
    draw();
    requestAnimationFrame(loop);
}
</script>
</body>
</html>
